<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Assistente Virtual de SaÃºde â€” UBS</title>
  <link rel="icon" href="data:,">
  <style>
    :root {
      --bg: #f8f9fa;
      --card: #ffffff;
      --accent: #0b76d1;
      --danger: #c22b2b;
      --text: #0b2540;
      --muted: #6b7280;
      font-family: Inter, system-ui;
    }

    body {
      background: var(--bg);
      color: var(--text);
      margin: 0;
      font-size: 15px;
    }

    .container {
      max-width: 980px;
      margin: 30px auto;
      padding: 20px;
    }

    header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 18px;
    }

    .logo {
      width: 64px;
      height: 64px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #3bb8ff);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 20px;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.05);
      padding: 20px;
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 20px;
      min-height: 560px;
    }

    .chat {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .messages {
      flex: 1;
      overflow: auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .bubble {
      padding: 12px 14px;
      border-radius: 12px;
      background: #f1f5f9;
      border: 1px solid #e2e8f0;
      max-width: 85%;
    }

    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .btn {
      padding: 10px 14px;
      border: 1px solid var(--accent);
      border-radius: 8px;
      background: white;
      color: var(--accent);
      font-weight: 600;
      cursor: pointer;
    }

    .btn:hover {
      background: #eaf3ff;
    }

    .panel {
      background: var(--card);
      border-radius: 10px;
      padding: 14px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.04);
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .emergency {
      background: linear-gradient(90deg, var(--danger), #ff6b6b);
      color: white;
      padding: 12px;
      border-radius: 10px;
      font-weight: 700;
      display: none;
    }

    .floating {
      position: fixed;
      right: 18px;
      bottom: 18px;
      background: var(--danger);
      color: white;
      padding: 12px 14px;
      border-radius: 999px;
      font-weight: 700;
      text-decoration: none;
      display: none;
    }

    footer {
      font-size: 13px;
      color: var(--muted);
      margin-top: 10px;
      text-align: center;
    }

    @media(max-width:900px) {
      .card { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <div class="logo">UBS</div>
      <div>
        <h1>Assistente Virtual de SaÃºde â€” UBS</h1>
        <p style="color:var(--muted)">Triagem automÃ¡tica â€” utilize os botÃµes abaixo.</p>
      </div>
    </header>

    <main class="card">
      <section class="chat">
        <div id="messages" class="messages"></div>
        <div id="options" class="options"></div>
      </section>

      <aside class="panel">
        <h3>Contatos e EndereÃ§os</h3>
        <p>
          <strong>SAMU:</strong> 192<br>
          <strong>Pronto Atendimento 24h:</strong> Rua L-2, 190, Interlagos, ParaÃ­so do Tocantins<br>
          <strong>Hospital Regional:</strong> Rua 03, Setor Aeroporto
        </p>
        <div id="emergency" class="emergency">ğŸš¨ EMERGÃŠNCIA DETECTADA â€” Ligue 192</div>
      </aside>
    </main>

    <footer>âš ï¸ Se for emergÃªncia real, ligue imediatamente para o SAMU: 192.</footer>
  </div>

  <a id="callBtn" class="floating" href="tel:192">ğŸ“ Ligar 192</a>

<script>
const msgBox = document.getElementById('messages');
const opts = document.getElementById('options');
const emer = document.getElementById('emergency');
const callBtn = document.getElementById('callBtn');

function msg(t) {
  const d = document.createElement('div');
  d.className = 'bubble';
  d.innerHTML = t;
  msgBox.appendChild(d);
  msgBox.scrollTop = msgBox.scrollHeight;
}

function setOpts(a) {
  opts.innerHTML = '';
  a.forEach(o => {
    const b = document.createElement('button');
    b.className = 'btn';
    b.textContent = o.label;
    b.onclick = () => sel(o.id);
    opts.appendChild(b);
  });
}

function emergency(on) {
  emer.style.display = on ? 'block' : 'none';
  callBtn.style.display = on ? 'inline-block' : 'none';
}

const flow = {

  start: {
    t: 'ğŸ‘‹ OlÃ¡! Eu sou o Assistente Virtual de SaÃºde da UBS.<br>Selecione o tema que deseja conversar:',
    o: [
      { id: 'rins_intro', label: 'ğŸ’§ Problemas nos Rins' },
      { id: 'diab_intro', label: 'ğŸ¬ Diabetes / Hipoglicemia' },
      { id: 'ven_intro', label: 'ğŸ UrgÃªncia / Animais PeÃ§onhentos' }
    ]
  },

  /* ============================================================
     ğŸ’§ FLUXO COMPLETO â€“ PROBLEMAS NOS RINS
  ============================================================ */

  rins_intro: {
    t: 'Certo! Vou fazer algumas perguntinhas rÃ¡pidas.<br><br>VocÃª estÃ¡ apresentando dor lombar intensa, em cÃ³lica, que pode irradiar para abdome inferior ou regiÃ£o genital?',
    o: [
      { id: 'rins_dor_nao', label: 'NÃ£o' },
      { id: 'rins_dor_sim', label: 'Sim' }
    ]
  },

  rins_dor_nao: {
    t: 'Tudo bem! Caso apresente dor sÃºbita e forte na regiÃ£o lombar, procure atendimento mÃ©dico. Atualmente, nÃ£o hÃ¡ sinais de cÃ³lica renal.',
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  rins_dor_sim: {
    t: 'Isso pode ser um quadro de cÃ³lica renal por litÃ­ase urinÃ¡ria (pedra nos rins).<br><br>Antes de prosseguirmos, preciso saber: vocÃª apresenta algum destes sinais de gravidade?<ul><li>Febre > 38Â°C</li><li>NÃ¡useas ou vÃ´mitos persistentes</li><li>Dificuldade para urinar</li><li>Sangue visÃ­vel na urina</li><li>Dor insuportÃ¡vel que nÃ£o melhora</li></ul>',
    o: [
      { id: 'rins_grave_sim', label: 'Sim' },
      { id: 'rins_grave_nao', label: 'NÃ£o' }
    ]
  },

  rins_grave_sim: {
    t: 'ğŸš¨ Isso Ã© uma emergÃªncia! Ligue imediatamente para o SAMU (192) ou vÃ¡ ao pronto-socorro mais prÃ³ximo.<br><br><strong>EndereÃ§os:</strong><br>Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos<br>Hospital Regional â€” Rua 03, Setor Aeroporto',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  rins_grave_nao: {
    t: 'O quadro pode ser uma cÃ³lica renal sem sinais de complicaÃ§Ã£o.<br><br><strong>RecomendaÃ§Ãµes:</strong><ul><li>Beba bastante Ã¡gua</li><li>Use analgÃ©sicos simples</li><li>Procure avaliaÃ§Ã£o mÃ©dica</li><li>Retorne caso piore</li></ul><br>VocÃª jÃ¡ teve pedra nos rins antes?',
    o: [
      { id: 'rins_hist_sim', label: 'Sim' },
      { id: 'rins_hist_nao', label: 'NÃ£o' }
    ]
  },

  rins_hist_sim: {
    t: 'Entendi. Pessoas que jÃ¡ tiveram cÃ¡lculos tÃªm alto risco de recorrÃªncia. Ã‰ importante acompanhamento mÃ©dico regular.<br><br>VocÃª estÃ¡ sentindo dor ao urinar, vontade de urinar muitas vezes, sangue na urina ou febre?',
    o: [
      { id: 'rins_infec_sim', label: 'Sim' },
      { id: 'rins_infec_nao', label: 'NÃ£o' }
    ]
  },

  rins_hist_nao: {
    t: 'Ok! Pode ser seu primeiro episÃ³dio. Agora me diga:<br><br>VocÃª estÃ¡ sentindo dor ao urinar, vontade frequente de urinar, sangue na urina ou febre?',
    o: [
      { id: 'rins_infec_sim', label: 'Sim' },
      { id: 'rins_infec_nao', label: 'NÃ£o' }
    ]
  },

  rins_infec_sim: {
    t: 'Esses sinais podem indicar infecÃ§Ã£o urinÃ¡ria. Se a dor for forte ou houver sangue, procure atendimento o quanto antes.<br>Quer ver cuidados bÃ¡sicos atÃ© chegar ao posto?',
    o: [
      { id: 'rins_cuidados_sim', label: 'Sim' },
      { id: 'rins_cuidados_nao', label: 'NÃ£o' }
    ]
  },

  rins_infec_nao: {
    t: 'Ã“timo! Algumas dicas para prevenÃ§Ã£o:<ul><li>Beba bastante Ã¡gua</li><li>Reduza sal</li><li>Controle pressÃ£o/diabetes</li></ul>',
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  rins_cuidados_sim: {
    t: '<strong>Cuidados bÃ¡sicos:</strong><ul><li>Hidrate-se</li><li>Evite automedicaÃ§Ã£o</li><li>Procure a UBS assim que possÃ­vel</li></ul>',
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  rins_cuidados_nao: {
    t: 'Certo. Lembre-se: se houver febre, sangue na urina ou dor forte, procure atendimento.',
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  /* ============================================================
     ğŸ¬ FLUXO COMPLETO â€“ DIABETES / HIPOGLICEMIA
  ============================================================ */

  diab_intro: {
    t: 'Entendido! VocÃª jÃ¡ tem diagnÃ³stico de diabetes?',
    o: [
      { id: 'diab_diag_sim', label: 'Sim' },
      { id: 'diab_diag_nao', label: 'NÃ£o' }
    ]
  },

  diab_diag_sim: {
    t: 'VocÃª estÃ¡ sentindo tontura, fraqueza, suor frio ou visÃ£o embaÃ§ada?',
    o: [
      { id: 'diab_sint_sim', label: 'Sim' },
      { id: 'diab_sint_nao', label: 'NÃ£o' }
    ]
  },

  diab_sint_sim: {
    t: 'Isso pode ser hipoglicemia!<br>Se estiver passando mal, vÃ¡ ao Pronto Atendimento ou ligue 192.',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  diab_sint_nao: {
    t: 'Mantenha alimentaÃ§Ã£o equilibrada, tome os remÃ©dios no horÃ¡rio e faÃ§a atividade fÃ­sica leve.',
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  diab_diag_nao: {
    t: 'Alguns sinais de alerta: sede intensa, urinar muito, visÃ£o borrada e perda de peso. Deseja dicas de prevenÃ§Ã£o?',
    o: [
      { id: 'diab_prev_sim', label: 'Sim' },
      { id: 'diab_prev_nao', label: 'NÃ£o' }
    ]
  },

  diab_prev_sim: {
    t: 'Para prevenir diabetes:<ul><li>AlimentaÃ§Ã£o saudÃ¡vel</li><li>150 min de exercÃ­cios/semana</li><li>Evite cigarro/Ã¡lcool</li><li>Durma bem</li></ul>Quer aprender sobre hipoglicemia?',
    o: [
      { id: 'diab_hipo_sim', label: 'Sim' },
      { id: 'start', label: 'NÃ£o' }
    ]
  },

  diab_prev_nao: {
    t: 'Tudo bem. Se algum dia tiver tontura ou visÃ£o embaÃ§ada, procure atendimento.',
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  diab_hipo_sim: {
    t: '<strong>Hipoglicemia leve:</strong><br>15 g de carboidrato rÃ¡pido (Ã¡gua com aÃ§Ãºcar, suco, bala, mel).<br><br><strong>Hipoglicemia grave:</strong><br>Se nÃ£o melhorar ou desmaiar: chame 192.',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  /* ============================================================
     ğŸ FLUXO COMPLETO â€“ ANIMAIS PEÃ‡ONHENTOS
  ============================================================ */

  ven_intro: {
    t: 'UrgÃªncia e EmergÃªncia â€” Animais peÃ§onhentos.<br><br>Foi acidente com cobra?',
    o: [
      { id: 'ven_snake_yes', label: 'Sim' },
      { id: 'ven_snake_no', label: 'NÃ£o' }
    ]
  },

  ven_snake_yes: {
    t: 'VocÃª consegue identificar se o animal Ã© peÃ§onhento?',
    o: [
      { id: 'ven_identify_yes', label: 'Sim' },
      { id: 'ven_identify_no', label: 'NÃ£o' }
    ]
  },

  ven_identify_yes: {
    t: 'Observe caracterÃ­sticas: pupila, fosseta loreal, dentiÃ§Ã£o, cauda, guizo.<br><br>Classifique o acidente:',
    o: [
      { id: 'ven_class_grave', label: 'Grave' },
      { id: 'ven_class_mod', label: 'Moderado' },
      { id: 'ven_class_mild', label: 'Leve' }
    ]
  },

  ven_identify_no: {
    t: 'Se nÃ£o identificar o animal, mantenha observaÃ§Ã£o.<br><br>Se houver dor intensa, inchaÃ§o ou sinais sistÃªmicos (sudorese, vÃ´mitos persistentes, salivaÃ§Ã£o excessiva, agitaÃ§Ã£o, arritmia, dificuldade respiratÃ³ria ou alteraÃ§Ãµes neurolÃ³gicas), procure atendimento pela SAMU 192 ou Pronto Atendimento 24h (Rua L-2, 190).',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  ven_class_grave: {
    t: 'ğŸš¨ğŸš¨ğŸš¨ EmergÃªncia GRAVE!<br>Procure IMEDIATAMENTE o SAMU 192 ou Procure o Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.<br><br>Sinais de alarme: inchaÃ§o, bolhas, sangramento, convulsÃµes.',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  ven_class_mod: {
    t: 'ğŸš¨ğŸš¨ EmergÃªncia MODERADA!<br>Procure atendimento urgente: SAMU 192 ou Procure o Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',

    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  ven_class_mild: {
    t: 'ğŸš¨ UrgÃªncia LEVE.<br>Procure o Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  ven_snake_no: {
    t: 'Foi acidente com escorpiÃ£o?',
    o: [
      { id: 'scorp_grave', label: 'Grave' },
      { id: 'scorp_mod', label: 'Moderado' },
      { id: 'scorp_mild', label: 'Leve' },
      { id: 'start', label: 'NÃ£o' }
    ]
  },

  scorp_grave: {
    t: 'ğŸš¨ğŸš¨ğŸš¨ EmergÃªncia GRAVE!<br>Dor intensa, salivaÃ§Ã£o, sudorese, vÃ´mitos repetidos, dificuldade respiratÃ³ria.<br>Procure o Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  scorp_mod: {
    t: 'ğŸš¨ EmergÃªncia MODERADA!<br>Dor forte, sudorese, nÃ¡useas, agitaÃ§Ã£o.<br>Procure o Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  scorp_mild: {
    t: 'ğŸš¨ UrgÃªncia LEVE.<br>Dor local, formigamento, leve inchaÃ§o.<br>Procure o Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [
      { id: 'avaliacao_intro', label: 'Avaliar atendimento' },
      { id: 'start', label: 'Voltar ao inÃ­cio' }
    ]
  },

  /* ============================================================
     â­ AVALIAÃ‡ÃƒO DO ATENDIMENTO
  ============================================================ */

  avaliacao_intro: {
    t: 'â­ Para concluirmos, como vocÃª avalia o atendimento?',
    o: [
      { id: 'avaliacao_otimo', label: 'ğŸ˜Š Ã“timo' },
      { id: 'avaliacao_bom', label: 'ğŸ™‚ Bom' },
      { id: 'avaliacao_medio', label: 'ğŸ˜ Regular' },
      { id: 'avaliacao_ruim', label: 'ğŸ™ Ruim' }
    ]
  },

  avaliacao_otimo: {
    t: 'Fico feliz em saber disso! ğŸ’™ Estou sempre aqui para ajudar.',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  avaliacao_bom: {
    t: 'Que bom! ğŸ˜Š Obrigado pelo seu feedback!',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  avaliacao_medio: {
    t: 'Obrigado pelo feedback! Vou buscar melhorar para te ajudar mais.',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  avaliacao_ruim: {
    t: 'Sinto muito ğŸ˜” Seu feedback Ã© muito importante para melhorar nosso atendimento.',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  }

};


// ===== FUNÃ‡Ã•ES FINAIS =====
function sel(id) {
  const n = flow[id];
  if (!n) return;
  msg(n.t);
  emergency(!!n.em);
  setOpts(n.o);
}

function start() {
  msgBox.innerHTML = '';
  emergency(false);
  msg(flow.start.t);
  setOpts(flow.start.o);
}
start();
</script>
</body>
</html>
