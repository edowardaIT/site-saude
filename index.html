<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Assistente Virtual de SaÃºde â€” UBS</title>
  <link rel="icon" href="data:,">
  <style>
    :root {
      --bg: #f8f9fa;
      --card: #ffffff;
      --accent: #0b76d1;
      --danger: #c22b2b;
      --text: #0b2540;
      --muted: #6b7280;
      font-family: Inter, system-ui;
    }

    body {
      background: var(--bg);
      color: var(--text);
      margin: 0;
      font-size: 15px;
    }

    .container {
      max-width: 980px;
      margin: 30px auto;
      padding: 20px;
    }

    header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 18px;
    }

    .logo {
      width: 64px;
      height: 64px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #3bb8ff);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 20px;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.05);
      padding: 20px;
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 20px;
      min-height: 560px;
    }

    .chat {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .messages {
      flex: 1;
      overflow: auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .bubble {
      padding: 12px 14px;
      border-radius: 12px;
      background: #f1f5f9;
      border: 1px solid #e2e8f0;
      max-width: 85%;
    }

    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .btn {
      padding: 10px 14px;
      border: 1px solid var(--accent);
      border-radius: 8px;
      background: white;
      color: var(--accent);
      font-weight: 600;
      cursor: pointer;
    }

    .btn:hover {
      background: #eaf3ff;
    }

    .panel {
      background: var(--card);
      border-radius: 10px;
      padding: 14px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.04);
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .emergency {
      background: linear-gradient(90deg, var(--danger), #ff6b6b);
      color: white;
      padding: 12px;
      border-radius: 10px;
      font-weight: 700;
      display: none;
    }

    .floating {
      position: fixed;
      right: 18px;
      bottom: 18px;
      background: var(--danger);
      color: white;
      padding: 12px 14px;
      border-radius: 999px;
      font-weight: 700;
      text-decoration: none;
      display: none;
    }

    footer {
      font-size: 13px;
      color: var(--muted);
      margin-top: 10px;
      text-align: center;
    }

    @media(max-width:900px) {
      .card { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <div class="logo">UBS</div>
      <div>
        <h1>Assistente Virtual de SaÃºde â€” UBS</h1>
        <p style="color:var(--muted)">Triagem automÃ¡tica â€” utilize os botÃµes abaixo.</p>
      </div>
    </header>

    <main class="card">
      <section class="chat">
        <div id="messages" class="messages"></div>
        <div id="options" class="options"></div>
      </section>

      <aside class="panel">
        <h3>Contatos e EndereÃ§os</h3>
        <p>
          <strong>SAMU:</strong> 192<br>
          <strong>Pronto Atendimento 24h:</strong> Rua L-2, 190, Interlagos, ParaÃ­so do Tocantins<br>
          <strong>Hospital Regional:</strong> Rua 03, Setor Aeroporto
        </p>
        <div id="emergency" class="emergency">ğŸš¨ EMERGÃŠNCIA DETECTADA â€” Ligue 192</div>
      </aside>
    </main>

    <footer>âš ï¸ Se for emergÃªncia real, ligue imediatamente para o SAMU: 192.</footer>
  </div>

  <a id="callBtn" class="floating" href="tel:192">ğŸ“ Ligar 192</a>

<script>
const msgBox = document.getElementById('messages');
const opts = document.getElementById('options');
const emer = document.getElementById('emergency');
const callBtn = document.getElementById('callBtn');

function msg(t) {
  const d = document.createElement('div');
  d.className = 'bubble';
  d.innerHTML = t;
  msgBox.appendChild(d);
  msgBox.scrollTop = msgBox.scrollHeight;
}

function setOpts(a) {
  opts.innerHTML = '';
  a.forEach(o => {
    const b = document.createElement('button');
    b.className = 'btn';
    b.textContent = o.label;
    b.onclick = () => sel(o.id);
    opts.appendChild(b);
  });
}

function emergency(on) {
  emer.style.display = on ? 'block' : 'none';
  callBtn.style.display = on ? 'inline-block' : 'none';
}

const flow = {
  start: {
    t: 'ğŸ‘‹ OlÃ¡! Eu sou o Assistente Virtual de SaÃºde da UBS.<br>Selecione o tema que deseja conversar:',
    o: [
      { id: 'rins_intro', label: 'ğŸ’§ Problemas nos Rins' },
      { id: 'diab_intro', label: 'ğŸ¬ Diabetes / Hipoglicemia' },
      { id: 'ven_intro', label: 'ğŸ UrgÃªncia / Animais PeÃ§onhentos' }
    ]
  },

  // ğŸ’§ FLUXO - RINS
  rins_intro: {
    t: 'Certo! Vou fazer algumas perguntinhas rÃ¡pidas.<br><br>VocÃª estÃ¡ apresentando dor lombar intensa, em cÃ³lica, que pode irradiar para abdome inferior ou regiÃ£o genital?',
    o: [
      { id: 'rins_dor_nao', label: 'NÃ£o' },
      { id: 'rins_dor_sim', label: 'Sim' }
    ]
  },

  rins_dor_nao: {
    t: 'Tudo bem! Caso apresente dor sÃºbita e forte na regiÃ£o lombar, procure atendimento mÃ©dico. Atualmente, nÃ£o hÃ¡ sinais de cÃ³lica renal.',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  rins_dor_sim: {
    t: 'Isso pode ser um quadro de cÃ³lica renal por litÃ­ase urinÃ¡ria (pedra nos rins).<br><br>Antes de prosseguirmos, preciso saber: vocÃª apresenta algum destes sinais de gravidade?<ul><li>Febre acima de 38Â°C</li><li>NÃ¡useas ou vÃ´mitos persistentes</li><li>Dificuldade ou impossibilidade de urinar</li><li>Sangue visÃ­vel na urina</li><li>Dor insuportÃ¡vel que nÃ£o melhora com analgÃ©sicos</li></ul>',
    o: [
      { id: 'rins_grave_sim', label: 'Sim' },
      { id: 'rins_grave_nao', label: 'NÃ£o' }
    ]
  },

  rins_grave_sim: {
    t: 'ğŸš¨ Isso Ã© uma emergÃªncia! Ligue imediatamente para o SAMU (192) ou vÃ¡ ao pronto-socorro mais prÃ³ximo.<br><br><strong>EndereÃ§os:</strong><br>Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos, ParaÃ­so do Tocantins<br>Hospital Regional â€” Rua 03, Setor Aeroporto<br><br>Risco de complicaÃ§Ã£o grave, como infecÃ§Ã£o urinÃ¡ria obstrutiva ou insuficiÃªncia renal aguda.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  rins_grave_nao: {
    t: 'O quadro pode ser uma cÃ³lica renal sem sinais de complicaÃ§Ã£o.<br><br><strong>RecomendaÃ§Ãµes:</strong><ul><li>Beba bastante Ã¡gua (se nÃ£o houver contraindicaÃ§Ã£o)</li><li>Use analgÃ©sicos simples conforme orientaÃ§Ã£o mÃ©dica</li><li>Procure atendimento mÃ©dico para confirmar o diagnÃ³stico e realizar exames de imagem</li><li>Retorne imediatamente ao pronto-socorro se surgirem febre, vÃ´mitos persistentes, dificuldade para urinar ou dor que nÃ£o melhora</li></ul><br>VocÃª jÃ¡ teve pedra nos rins antes?',
    o: [
      { id: 'rins_hist_sim', label: 'Sim' },
      { id: 'rins_hist_nao', label: 'NÃ£o' }
    ]
  },

  rins_hist_sim: {
    t: 'Entendi. Pessoas que jÃ¡ tiveram cÃ¡lculos tÃªm alto risco de recorrÃªncia. Ã‰ importante acompanhamento mÃ©dico regular, exames de imagem e ajustes na dieta.<br><br>VocÃª estÃ¡ sentindo dor ao urinar, vontade de urinar muitas vezes, sangue na urina ou febre?',
    o: [
      { id: 'rins_infec_sim', label: 'Sim' },
      { id: 'rins_infec_nao', label: 'NÃ£o' }
    ]
  },

  rins_hist_nao: {
    t: 'Ok! Esse pode ser o seu primeiro episÃ³dio, mas ainda assim precisa de avaliaÃ§Ã£o mÃ©dica.<br><br>VocÃª estÃ¡ sentindo dor ao urinar, vontade de urinar muitas vezes, sangue na urina ou febre?',
    o: [
      { id: 'rins_infec_sim', label: 'Sim' },
      { id: 'rins_infec_nao', label: 'NÃ£o' }
    ]
  },

  rins_infec_sim: {
    t: 'Esses sinais podem indicar algo que precisa de atenÃ§Ã£o mÃ©dica. Se a dor for forte ou houver sangue na urina, procure atendimento mÃ©dico o quanto antes.<br>Quer que eu te mostre cuidados bÃ¡sicos atÃ© chegar ao posto?',
    o: [
      { id: 'rins_cuidados_sim', label: 'Sim' },
      { id: 'rins_cuidados_nao', label: 'NÃ£o' }
    ]
  },

  rins_infec_nao: {
    t: 'Ã“timo. Se for apenas dÃºvida sobre saÃºde dos rins, seguem dicas de prevenÃ§Ã£o:<ul><li>Beba bastante Ã¡gua</li><li>Evite excesso de sal</li><li>Controle pressÃ£o e diabetes</li></ul>',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  rins_cuidados_sim: {
    t: '<strong>Cuidados bÃ¡sicos:</strong><ul><li>Hidrate-se bem</li><li>Evite automedicaÃ§Ã£o</li><li>Procure a UBS para avaliaÃ§Ã£o assim que possÃ­vel</li></ul>',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  rins_cuidados_nao: {
    t: 'Tudo bem! Lembre-se: se houver dor, febre ou sangue na urina, procure atendimento mÃ©dico o quanto antes.',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },
};
  // ğŸ¬ FLUXO â€“ DIABETES / HIPOGLICEMIA
  diab_intro: {
    t: 'Entendido! Para te ajudar melhor: vocÃª jÃ¡ tem diagnÃ³stico de diabetes?',
    o: [
      { id: 'diab_diag_sim', label: 'Sim' },
      { id: 'diab_diag_nao', label: 'NÃ£o' }
    ]
  },

  diab_diag_sim: {
    t: 'Certo. EstÃ¡ sentindo tontura ğŸ¤¢, fraqueza ğŸ˜“, visÃ£o embaÃ§ada ğŸ‘€ ou muita sede ğŸ¥¤?',
    o: [
      { id: 'diab_sint_sim', label: 'Sim' },
      { id: 'diab_sint_nao', label: 'NÃ£o' }
    ]
  },

  diab_sint_sim: {
    t: 'Esses sintomas podem indicar alteraÃ§Ã£o da glicose.<br>Se estiver passando mal ğŸš‘, vÃ¡ ao pronto atendimento ou ligue 192.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  diab_sint_nao: {
    t: 'Continue se cuidando!<br>Mantenha alimentaÃ§Ã£o equilibrada ğŸ¥—, tome a medicaÃ§Ã£o no horÃ¡rio ğŸ’Š e pratique atividade fÃ­sica leve ğŸƒâ€â™‚ï¸.',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  diab_diag_nao: {
    t: 'Ok! Alguns sinais de alerta para procurar mÃ©dico sÃ£o: sede em excesso ğŸ¥¤, urinar muito, perda de peso nÃ£o intencional e visÃ£o borrada ğŸ‘€.<br>Gostaria de dicas para prevenÃ§Ã£o da diabetes?',
    o: [
      { id: 'diab_prev_sim', label: 'Sim' },
      { id: 'diab_prev_nao', label: 'NÃ£o' }
    ]
  },

  diab_prev_sim: {
    t: 'Ã“timo!<br>Para prevenir o diabetes tipo 2:<ul><li>AlimentaÃ§Ã£o equilibrada ğŸğŸ¥¦ğŸŒ¾</li><li>Pratique 150 min/semana de atividade fÃ­sica ğŸƒâ€â™€ï¸</li><li>Evite cigarro ğŸš­ e reduza Ã¡lcool ğŸº</li><li>Durma bem ğŸ˜´ e controle o estresse ğŸ§˜â€â™€ï¸</li><li>FaÃ§a check-ups regulares ğŸ©º</li></ul><br>Quer saber sobre hipoglicemia?',
    o: [
      { id: 'diab_hipo_sim', label: 'Sim' },
      { id: 'start', label: 'NÃ£o' }
    ]
  },

  diab_prev_nao: {
    t: 'Tudo bem! Lembre-se: se sentir tontura, fraqueza, suor frio ou visÃ£o embaÃ§ada, verifique a glicemia e procure atendimento mÃ©dico se necessÃ¡rio.',
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  diab_hipo_sim: {
    t: '<strong>Hipoglicemia leve (50-70 mg/dL)</strong><ul><li>Fome, tremores, suor frio, palpitaÃ§Ã£o</li><li>Tome 15 g de carboidrato rÃ¡pido:</li><li>1 copo Ã¡gua + 1 colher aÃ§Ãºcar ou 3 balas ou 3 sachÃªs mel ou Â½ copo suco</li><li>Espere 15 min e reavalie</li></ul><br><strong>Hipoglicemia grave (&lt; 50 mg/dL)</strong><ul><li>Tontura, fraqueza, visÃ£o embaÃ§ada, desmaio</li><li>Tome 30 g de carboidrato rÃ¡pido ou chame ajuda</li></ul>ğŸš¨ Se nÃ£o melhorar ou nÃ£o conseguir se alimentar, ligue 192 ou vÃ¡ ao Pronto Atendimento.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  // ğŸ FLUXO â€“ ANIMAIS PEÃ‡ONHENTOS (COBRA / ESCORPIÃƒO)
  ven_intro: {
    t: 'UrgÃªncia e EmergÃªncia â€” Animais peÃ§onhentos.<br><br>VocÃª sofreu acidente envolvendo cobra/serpente?',
    o: [
      { id: 'ven_snake_yes', label: 'Sim' },
      { id: 'ven_snake_no', label: 'NÃ£o' }
    ]
  },

  ven_snake_yes: {
    t: 'VocÃª consegue identificar se o animal Ã© peÃ§onhento?',
    o: [
      { id: 'ven_identify_yes', label: 'Sim' },
      { id: 'ven_identify_no', label: 'NÃ£o' }
    ]
  },

  ven_identify_yes: {
    t: 'Identifique caracterÃ­sticas (se possÃ­vel): dentiÃ§Ã£o, pupilas, fosseta loreal, cauda lisa, escamas eriÃ§adas, guizo.<br><br>Classifique o acidente:',
    o: [
      { id: 'ven_class_grave', label: 'Grave' },
      { id: 'ven_class_mod', label: 'Moderado' },
      { id: 'ven_class_mild', label: 'Leve' }
    ]
  },

  ven_identify_no: {
    t: 'Se nÃ£o identificar o animal, mantenha observaÃ§Ã£o.<br>Se houver dor intensa, inchaÃ§o ou sinais sistÃªmicos (sudorese, vÃ´mitos persistentes, salivaÃ§Ã£o excessiva, agitaÃ§Ã£o, arritmia, dificuldade respiratÃ³ria ou alteraÃ§Ãµes neurolÃ³gicas), procure atendimento pela SAMU 192 ou Pronto Atendimento 24h (Rua L-2, 190, Interlagos).',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  ven_class_grave: {
    t: 'ğŸš¨ğŸš¨ğŸš¨ Isso Ã© uma emergÃªncia!<br>Procure atendimento IMEDIATO: SAMU 192 ou Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.<br><br><strong>Sinais de alarme:</strong> InchaÃ§o, bolhas, sangramento, hipotensÃ£o, dificuldade respiratÃ³ria, convulsÃµes.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  ven_class_mod: {
    t: 'ğŸš¨ğŸš¨ Isso Ã© uma emergÃªncia!<br>Procure atendimento URGENTE: SAMU 192 ou Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  ven_class_mild: {
    t: 'ğŸš¨ Isso Ã© uma urgÃªncia.<br>Procure o pronto-socorro mais prÃ³ximo: Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  ven_snake_no: {
    t: 'VocÃª sofreu acidente envolvendo escorpiÃ£o?',
    o: [
      { id: 'scorp_grave', label: 'Grave' },
      { id: 'scorp_mod', label: 'Moderado' },
      { id: 'scorp_mild', label: 'Leve' },
      { id: 'start', label: 'NÃ£o' }
    ]
  },

  scorp_grave: {
    t: 'ğŸš¨ğŸš¨ğŸš¨ Isso Ã© uma emergÃªncia!<br>Dor intensa, salivaÃ§Ã£o excessiva, sudorese, vÃ´mitos repetidos, sonolÃªncia, dificuldade respiratÃ³ria, convulsÃµes.<br><br>Procure atendimento IMEDIATO: SAMU 192 ou Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  scorp_mod: {
    t: 'ğŸš¨ğŸš¨ EmergÃªncia moderada!<br>Dor local intensa, sudorese, nÃ¡useas, vÃ´mitos, agitaÃ§Ã£o, taquicardia.<br><br>Procure atendimento URGENTE: SAMU 192 ou Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  },

  scorp_mild: {
    t: 'ğŸš¨ UrgÃªncia leve.<br>Dor local, formigamento, leve inchaÃ§o.<br><br>Procure o Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos.',
    em: true,
    o: [{ id: 'start', label: 'Voltar ao inÃ­cio' }]
  }
};

// ===== FUNÃ‡Ã•ES FINAIS =====
function sel(id) {
  const n = flow[id];
  if (!n) return;
  msg(n.t);
  emergency(!!n.em);
  setOpts(n.o);
}

function start() {
  msgBox.innerHTML = '';
  emergency(false);
  msg(flow.start.t);
  setOpts(flow.start.o);
}
start();
</script>
</body>
</html>
