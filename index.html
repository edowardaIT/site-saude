<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Assistente Virtual de SaÃºde â€” UBS</title>
<link rel="icon" href="data:,">
<style>
  :root{
    --bg:#071226;--panel:#0b1a2a;--muted:#98a6b3;--accent:#0ea5ff;--danger:#d23b3b;
    --glass:rgba(255,255,255,0.03);--radius:14px;font-family:Inter,system-ui;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#04121b 0%,#071226 100%);
    color:#e6eef6;font-size:15px;}
  .container{max-width:980px;margin:28px auto;padding:18px;}
  header{display:flex;gap:12px;align-items:center;margin-bottom:18px}
  .logo{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;
    background:linear-gradient(135deg,var(--accent),#3ec7ff);font-weight:800;color:#012433;font-size:20px;
    box-shadow:0 8px 30px rgba(14,165,255,0.08);}
  h1{margin:0;font-size:20px}
  p.lead{margin:0;color:var(--muted);font-size:13px}
  .card{background:var(--glass);border-radius:var(--radius);padding:14px;
    box-shadow:0 10px 35px rgba(2,6,23,0.6);
    display:grid;grid-template-columns:1fr 320px;gap:16px;min-height:520px;}
  .chat{display:flex;flex-direction:column;border-radius:10px;padding:12px;gap:12px}
  .messages{flex:1;overflow:auto;padding:6px;display:flex;flex-direction:column;gap:12px}
  .bubble{max-width:82%;padding:12px 14px;border-radius:12px;line-height:1.35}
  .bot{align-self:flex-start;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
  .user{align-self:flex-end;background:linear-gradient(180deg,rgba(14,165,255,0.12),rgba(14,165,255,0.06));border:1px solid rgba(14,165,255,0.12);color:#02223a}
  .controls{padding-top:6px;border-top:1px dashed rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:10px}
  .options{display:flex;flex-wrap:wrap;gap:8px}
  .opt-btn{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--accent);cursor:pointer}
  .input-row{display:flex;gap:8px}
  input[type="text"]{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
  button.send{padding:10px 14px;border-radius:10px;border:0;background:var(--accent);color:#012433;font-weight:700;cursor:pointer}
  .panel{background:var(--glass);border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:12px}
  .emergency{background:linear-gradient(90deg,var(--danger),#ff6b6b);padding:10px;border-radius:10px;color:white;font-weight:700;text-align:center;line-height:1.4}
  .call-big{display:inline-block;padding:10px 12px;border-radius:10px;background:rgba(0,0,0,0.12);color:white;text-decoration:none;font-weight:700;border:1px solid rgba(255,255,255,0.08)}
  .floating { position:fixed; right:18px; bottom:18px; background:var(--danger); color:white; padding:12px 14px; border-radius:999px; box-shadow:0 10px 30px rgba(0,0,0,0.45); text-decoration:none; font-weight:800; display:none; z-index:999; }
  footer.small{color:var(--muted);font-size:13px;text-align:center;margin-top:12px}
  @media (max-width:900px){.card{grid-template-columns:1fr;min-height:640px}}
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">UBS</div>
      <div>
        <h1>Assistente Virtual de SaÃºde â€” UBS</h1>
        <p class="lead">Sistema de triagem inicial â€” respostas automÃ¡ticas baseadas no roteiro.</p>
      </div>
    </header>

    <main class="card" role="main" aria-live="polite">
      <section class="chat" aria-label="Chat">
        <div class="messages" id="messages"></div>
        <div class="controls">
          <div class="options" id="options"></div>
          <div class="input-row">
            <input id="userInput" type="text" placeholder="Digite algo..." />
            <button id="sendBtn" class="send">Enviar</button>
          </div>
          <small>Se for emergÃªncia real, ligue para SAMU: <strong>192</strong>.</small>
        </div>
      </section>

      <aside class="panel">
        <h3>Contatos Ãºteis</h3>
        <div>SAMU: <strong>192</strong></div>
        <div class="emergency" id="panelEmergency">Nenhuma emergÃªncia detectada</div>
        <a id="callPanel" class="call-big" href="tel:192" aria-hidden="true">ðŸ“ž Ligar 192 (SAMU)</a>
      </aside>
    </main>

    <footer class="small">
      Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos, ParaÃ­so do Tocantins |
      Hospital Regional â€” Rua 03, Setor Aeroporto.
    </footer>
  </div>

  <a id="floatingCall" class="floating" href="tel:192" aria-hidden="true" title="Ligar 192">ðŸ“ž Ligar 192</a>

<script>
const M=document.getElementById('messages');
const O=document.getElementById('options');
const I=document.getElementById('userInput');
const S=document.getElementById('sendBtn');
const PE=document.getElementById('panelEmergency');
const CP=document.getElementById('callPanel');
const F=document.getElementById('floatingCall');

function msg(t,c='bot'){const d=document.createElement('div');d.className='bubble '+c;d.innerHTML=t;M.appendChild(d);M.scrollTop=M.scrollHeight;}
function user(t){msg(t,'user');}
function setOpts(a){O.innerHTML='';if(!a)return;a.forEach(o=>{const b=document.createElement('button');b.className='opt-btn';b.textContent=o.label;b.onclick=()=>sel(o.id,o.label);O.appendChild(b);});}
function emergency(on){
 if(on){
  PE.innerHTML='ðŸš¨ <b>EMERGÃŠNCIA DETECTADA</b><br>Ligue para <b>SAMU: 192</b><br><small>Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos<br>Hospital Regional â€” Rua 03, Setor Aeroporto</small>';
  CP.style.display='inline-block';F.style.display='inline-block';
 } else {
  PE.textContent='Nenhuma emergÃªncia detectada';CP.style.display='none';F.style.display='none';
 }}

const FLOW={
 start:{t:'ðŸ‘‹ OlÃ¡! Eu sou o assistente virtual da UBS. Escolha um tema:',o:[{id:'kid',label:'Problemas nos rins'},{id:'dia',label:'Diabetes / Hipoglicemia'},{id:'ven',label:'Animais peÃ§onhentos'}]},
 kid:{t:'VocÃª tem dor lombar intensa ou cÃ³lica?',o:[{id:'kid_yes',label:'Sim'},{id:'kid_no',label:'NÃ£o'}]},
 kid_yes:{t:'HÃ¡ sinais de gravidade (febre, vÃ´mitos, sangue na urina, dor incontrolÃ¡vel)?',o:[{id:'em',label:'Sim'},{id:'ok',label:'NÃ£o'}]},
 em:{t:'ðŸš¨ Procure atendimento imediato ou ligue 192.<br><small>Pronto Atendimento 24h â€” Rua L-2, 190, Interlagos<br>Hospital Regional â€” Rua 03, Setor Aeroporto</small>',em:true},
 ok:{t:'Pode ser cÃ³lica renal sem complicaÃ§Ã£o. Mantenha hidrataÃ§Ã£o e procure avaliaÃ§Ã£o mÃ©dica.',o:[{id:'start',label:'Voltar ao inÃ­cio'}]},
 dia:{t:'Tem diagnÃ³stico de diabetes?',o:[{id:'d_yes',label:'Sim'},{id:'d_no',label:'NÃ£o'}]},
 d_yes:{t:'Tem sintomas como fraqueza, tontura, suor frio?',o:[{id:'d_em',label:'Sim'},{id:'ok',label:'NÃ£o'}]},
 d_em:{t:'Pode ser hipoglicemia! Tome carboidrato rÃ¡pido (suco/aÃ§Ãºcar) e reavalie. Se piorar, ligue 192.',em:false,o:[{id:'start',label:'Voltar'}]},
 ven:{t:'Houve picada de cobra, escorpiÃ£o ou outro animal?',o:[{id:'v_yes',label:'Sim'},{id:'start',label:'NÃ£o'}]},
 v_yes:{t:'Classifique: leve, moderado ou grave?',o:[{id:'em',label:'Grave'},{id:'em',label:'Moderado'},{id:'ok',label:'Leve'}]},
};

function sel(id,label){user(label);const n=FLOW[id]||FLOW.start;msg(n.t);emergency(!!n.em);setOpts(n.o);}
function start(){M.innerHTML='';emergency(false);msg(FLOW.start.t);setOpts(FLOW.start.o);}
start();
</script>
</body>
</html>
